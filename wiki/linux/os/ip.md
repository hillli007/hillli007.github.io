---
title: IP层
date: 2018-10-14 23:44:58
tags:
---

## 基础概念

网关一般情况下可以理解为路由器IP! 网段一般指一个计算机网络中使用同一物理层设备（传输介质，中继器，集线器等）能够直接通讯的那一部分。
例如，从192.168.0.1到192.168.255.255这之间就是一个网段。

## 地址分类

分类 | 占比 | 范围
---|-----|-----
A 类 | 1/2 | 1.0.0.0 ~ 126.255.255.255 
B 类 | 1/4 | 128.0.0.0 ~ 191.255.255.255 
C 类 | 1/8 | 192.0.0.0 ~ 223.255.255.255 
D 类 | 1/16 | 224.0.0.0 ~ 239.255.255.255 
E 类 | 1/16 | 240.0.0.0 ~ 255.255.255.255 

私有地址（内部局域网可以使用的）

* A级：10.0.0.0 - 10.255.255.255
* B级：172.16.0.0 - 172.31.255.255
* C级：192.168.0.0 - 192.168.255.255

保留地址（特殊用途的）

* A类：127.X.X.X
* B类：169.254.X.X

## CIDR (无类别域间路由)

    子网掩码有0.0.0.0、255.0.0.0、255.255.0.0、255.255.255.0和 255.255.255.255共五种。采用这种格式的子网掩码每个网络中主机
的数目相差至少为256倍，不利于灵活根据企业需要分配IP地址。
    比如，一 个企业有2000台计算机，用户要么为其分配子网掩为255.255.0.0，那么该网络可包含65534台计算机，将造成63534个IP地址的
浪费；要么用户为其分配8个255.255.255.0网络，那么必须用路由器连接这个8个网络，造成网络管理和维护的负担。

CIDR表示方法：IP地址/网络ID的位数（网段的划分更加灵活）

举例：192.168.23.35/21计算子网的网络ID、子网掩码、起止IP地址？

* 子网掩码：11111111 11111111 11111-000 00000000（子网掩码）=255.255.248.0（子网掩码的第二种表示方法。）
* 网络ID：192.168.16.0（192.168.00010111.0和子网掩码进行“与”运算。）
* 起始IP地址：192.168.16.1（192.168.16.0是本网端中的第一个IP，可是他已经表示网络ID了，所以，为了避免与该IP地址与网络ID混淆，所以，起始IP为192.168.16.1。）
* 结束IP地址：192.168.23.254（192.168.00010（网络位）-111.11111110（主机位）主机ID不能全为1，全为1表示本地广播。）

## NAT
